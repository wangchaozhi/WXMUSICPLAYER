# wxWidgets 中文显示问题解决指南

## 问题描述

wxWidgets应用程序中的中文显示为乱码，这是一个常见的字符编码问题。

## 解决方案

### 方案1：设置本地化（已实现）

在 `SimpleMusicPlayerApp::OnInit()` 中添加：

```cpp
// 设置中文字符编码
wxSetlocale(LC_ALL, "");
```

### 方案2：使用UTF-8编码的字符串

将源代码文件保存为UTF-8编码，并使用 `wxT()` 宏包装中文字符串：

```cpp
wxFrame(nullptr, wxID_ANY, wxT("简单音乐播放器"), wxDefaultPosition, wxSize(600, 400))
```

### 方案3：设置字体

在窗口创建时设置支持中文的字体：

```cpp
// 在SimpleMusicPlayer构造函数中添加
SetFont(wxFont(9, wxFONTFAMILY_DEFAULT, wxFONTSTYLE_NORMAL, wxFONTWEIGHT_NORMAL, false, wxT("Microsoft YaHei")));
```

### 方案4：编译时设置

在CMakeLists.txt中添加编译选项：

```cmake
if(WIN32)
    target_compile_definitions(wxmusicplayer PRIVATE 
        WXUSINGDLL
        UNICODE
        _UNICODE
    )
endif()
```

## 推荐的完整解决方案

1. **确保源代码文件为UTF-8编码**
2. **使用wxT()宏包装中文字符串**
3. **设置本地化**
4. **设置支持中文的字体**

## 测试方法

运行程序后，检查以下元素是否正确显示中文：
- 窗口标题
- 按钮文本
- 标签文本
- 消息框文本

## 常见问题

### Q: 为什么中文显示为方块？
A: 通常是字体不支持中文字符，需要设置支持中文的字体。

### Q: 为什么中文显示为乱码？
A: 通常是字符编码不匹配，需要确保源代码文件为UTF-8编码。

### Q: 为什么某些地方中文正常，某些地方不正常？
A: 可能是部分字符串没有使用wxT()宏包装。
