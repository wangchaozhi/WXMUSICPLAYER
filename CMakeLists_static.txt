cmake_minimum_required(VERSION 3.16)
project(wxmusicplayer VERSION 1.0.0 LANGUAGES CXX)

# è®¾ç½®C++æ ‡å‡†
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# è®¾ç½®è¾“å‡ºç›®å½•
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

# æŸ¥æ‰¾wxWidgets
find_package(wxWidgets CONFIG REQUIRED)

# æºæ–‡ä»¶åˆ—è¡?
set(SOURCES
    src/SimpleMusicPlayer.cpp
)

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»?
add_executable(wxmusicplayer ${SOURCES})

# è®¾ç½®åŒ…å«ç›®å½•
target_include_directories(wxmusicplayer PRIVATE 
    ${CMAKE_CURRENT_SOURCE_DIR}/include
    ${CMAKE_CURRENT_SOURCE_DIR}/src
)

# é“¾æ¥wxWidgetsåº“ï¼ˆé™æ€é“¾æ¥ï¼‰
target_link_libraries(wxmusicplayer PRIVATE wx::core wx::base)

# å¹³å°ç‰¹å®šè®¾ç½®
if(WIN32)
    # é™æ€é“¾æ¥ï¼Œä¸éœ€è¦WXUSINGDLL
    set_target_properties(wxmusicplayer PROPERTIES
        WIN32_EXECUTABLE TRUE
    )
endif()

# å¤åˆ¶èµ„æºæ–‡ä»¶åˆ°è¾“å‡ºç›®å½?
file(COPY assets DESTINATION ${CMAKE_BINARY_DIR}/bin)
